<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
    http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd">

	<bean id="ippClientEnvironment"
		class="org.eclipse.stardust.engine.extensions.camel.util.client.spring.SpringClientEnvironment">
		<property name="predefinedUsers"><!-- The predefined motu user is currently necessary 
				for the BpmAssert class! -->
			<list>
				<bean
					class="org.eclipse.stardust.engine.extensions.camel.util.security.UserSecurityProperties">
					<property name="account" value="motu" />
					<property name="password" value="motu" />
				</bean>
			</list>
		</property>
	</bean>

	<bean id="ippServiceFactoryAccess"
		class="org.eclipse.stardust.engine.extensions.camel.util.client.ServiceFactoryAccess">
		<property name="defaultUser" value="motu" />
		<property name="defaultPassword" value="motu" />
	</bean>

	<bean id="ippTestUtils"
		class="org.eclipse.stardust.engine.extensions.camel.util.test.SpringTestUtils">
		<property name="auditTrailDataSource" ref="carnotXaAuditTrailDataSource" />
		<property name="serviceFactoryAccess" ref="ippServiceFactoryAccess" />
		<property name="modelFile" value="classpath:models/TestModel.xpdl" />
	</bean>
   
   <bean id="derbyPropertyManager"
      class="org.eclipse.stardust.engine.extensions.camel.common.DerbyPropertyManager">
      <property name="derbyLocksWaitTimeout" value="180" />
   </bean>
   
	<bean id="camelTestUtils"
		class="org.eclipse.stardust.engine.extensions.camel.common.CamelTestUtils" />
		
	<bean id="checkAutditTrial"
		class="org.eclipse.stardust.engine.extensions.camel.common.CheckAutditTrialInitialization">
		<constructor-arg>
			<ref bean="ippTestUtils" />
		</constructor-arg>
      <constructor-arg>
         <ref bean="derbyPropertyManager" />
      </constructor-arg>
	</bean>
</beans>