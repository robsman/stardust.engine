<?xml version="1.1" encoding="UTF-8"?>
<jboss:ejb-jar xmlns:jboss="http://www.jboss.com/xml/ns/javaee"
               xmlns="http://java.sun.com/xml/ns/javaee"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns:c="urn:clustering:1.0"
               xsi:schemaLocation="http://www.jboss.com/xml/ns/javaee http://www.jboss.org/j2ee/schema/jboss-ejb3-2_0.xsd http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd"
               version="3.1"
               impl-version="2.0">
  <module-name>carnot-ejb3</module-name>
  <enterprise-beans>
    <session>
      <ejb-name>DocumentManagementServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
    </session>
    <session>
      <ejb-name>WorkflowServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
    </session>
    <session>
      <ejb-name>AdministrationServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
    </session>
    <session>
      <ejb-name>UserServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
    </session>
    <session>
      <ejb-name>QueryServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
    </session>
    <session>
      <ejb-name>ForkingServiceImpl</ejb-name>
      <resource-ref>
        <res-ref-name>jdbc/AuditTrail.DataSource</res-ref-name>
        <jndi-name>java:/AuditTrail.DataSource</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jcr/ContentRepository</res-ref-name>
        <jndi-name>java:/jcr/jackrabbit</jndi-name>
      </resource-ref>
      <resource-ref>
        <res-ref-name>jms/CarnotXAConnectionFactory</res-ref-name>
        <jndi-name>java:/CarnotConnectionFactory</jndi-name>
        <!--jndi-name>java:/JmsXa</jndi-name-->
      </resource-ref>
      <resource-env-ref>
        <resource-env-ref-name>jms/CarnotSystemQueue</resource-env-ref-name>
        <jndi-name>java:/queue/CarnotSystemQueue</jndi-name>
      </resource-env-ref>
      <resource-env-ref>
        <resource-env-ref-name>jms/CarnotApplicationQueue</resource-env-ref-name>
        <jndi-name>java:/queue/CarnotApplicationQueue</jndi-name>
      </resource-env-ref>
      <resource-env-ref>
        <resource-env-ref-name>jms/CarnotDaemonQueue</resource-env-ref-name>
        <jndi-name>java:/queue/CarnotDaemonQueue</jndi-name>
      </resource-env-ref>
    </session>
  </enterprise-beans>
</jboss:ejb-jar>